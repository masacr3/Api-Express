<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cargar datos</title>
</head>
<body>
    <form method="post" class="contenedor">
        <input type="text" class="cod" placeholder="Codigo barras">
        <input type="text" class="in" placeholder="Marca">
        <input type="text" class="in" placeholder="Producto">
        <input type="text" class="in" placeholder="Precio">
        <input type="text" class="in" placeholder="Precio Publico">
        <button type="submit">CARGAR DATOS</button>
    </form>
    
<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>

</body>

<script>
    let inputs = document.querySelectorAll('.in')
    let listainputs = Array.from(inputs)

    const cod = document.querySelector('.cod')

    function chequeaCodigoBarras(value){
        return value < 100 ? true : false
    }

    function resetInput(){
        inputs.forEach(item =>{
            item.value = ''
        })
    }

    function ajax(url,data,Method){
        fetch(url,{
            method : Method,
            body : JSON.stringify(data),
            headers:{
                'Content-Type' : 'application/json'
            }
        })
        .then(res=>{
            console.log('siiiiiiiii')
        })
        .catch(err =>{
            console.log('noooooo')
        })
    }

    cod.addEventListener('keypress', e =>{
        let code = ( e.keyCode ? e.keyCode : e.which)
            if ( code == 13 ){
                e.preventDefault()
                //focus al siguiente
                ajax('http://localhost:5000',{},'POST')
            }
    })

    //codigo mantenible
    inputs.forEach( (item,i) =>{
        item.addEventListener('keypress',e =>{
            let code = ( e.keyCode ? e.keyCode : e.which)
            if ( code == 13 ){
                e.preventDefault()
                //focus al siguiente
                if ( (i+1) < listainputs.length ) listainputs[i+1].focus()
            }
        })
    })
</script>

<style>
    .contenedor{
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }
</style>

</html>
